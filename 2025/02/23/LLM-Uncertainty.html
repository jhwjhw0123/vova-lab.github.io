<!DOCTYPE html>
<html lang="en" data-dark="false">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <!--
  put your analytics (e.g. Google Analytics) tracking code here
-->

  <!--
  put your search engine verification (e.g. Google Search Console) tag here
-->

  


























<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Exploring Uncertainty-Based On-device LLM Routing From Benchmarking to Generalization | random lab site</title>

<link rel="icon" href="/vova-lab.github.io/images/icon.png">

<meta name="title" content="Exploring Uncertainty-Based On-device LLM Routing From Benchmarking to Generalization">
<meta name="description" content="An engaging 1-3 sentence description of your lab.">

<meta property="og:title" content="Exploring Uncertainty-Based On-device LLM Routing From Benchmarking to Generalization">
<meta property="og:site_title" content="random lab site">
<meta property="og:description" content="An engaging 1-3 sentence description of your lab.">
<meta property="og:url" content="https://guangyaoz.github.io/vova-lab.github.io">
<meta property="og:image" content="/vova-lab.github.io/images/share.jpg">
<meta property="og:locale" content="en_US">

<meta property="twitter:title" content="Exploring Uncertainty-Based On-device LLM Routing From Benchmarking to Generalization">
<meta property="twitter:description" content="An engaging 1-3 sentence description of your lab.">
<meta property="twitter:url" content="https://guangyaoz.github.io/vova-lab.github.io">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:image" content="/vova-lab.github.io/images/share.jpg">


  <meta name="author" content='&lt;p&gt;This work offers an accessible and reproducible pipeline for uncertainty-based routing from benchmarking to generalization.&lt;/p&gt;

&lt;p&gt;Large language models (LLMs) are increasingly deployed and democratized on edge devices. To improve the efficiency of on-device deployment, small language models (SLMs) are often adopted due to their efficient decoding latency and reduced energy consumption. However, these SLMs often generate inaccurate responses when handling complex queries. One promising solution is uncertainty-based SLM routing, offloading high-stakes queries to stronger LLMs when resulting in low-confidence responses on SLM. This follows the principle of “If you lack confidence, seek stronger support” to enhance reliability. Relying on more powerful LLMs is yet effective but increases invocation costs. Therefore, striking a routing balance between efficiency and efficacy remains a critical challenge. Additionally, efficiently generalizing the routing strategy to new datasets remains under-explored. In this paper, we conduct a comprehensive investigation into benchmarking and generalization of uncertainty-driven routing strategies from SLMs to LLMs over 1500+ settings.&lt;/p&gt;

&lt;p&gt;This work offers an accessible and reproducible pipeline for uncertainty-based routing from benchmarking to generalization. Our main contributions are summarized as follows:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Comprehensive benchmarking and detailed analysis:&lt;/strong&gt; This benchmark evaluates $8$ UQ methods across $14$ datasets to examine the alignment between uncertainty and correctness in routing tasks. We incorporate $8$ SLMs and $2$ LLMs to emulate real-world deployment scenarios. We then delve into key observations from the extensive results and conclude the insights for developing uncertainty-based SLM routing.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Calibration data for generalization to new data:&lt;/strong&gt; Building on our benchmarking pipeline, we introduce a calibration data construction pipeline designed to improve routing generalization in new downstream scenarios. Empirical results show that this calibration data generalizes effectively to new datasets \textit{without relying on any new downstream data}.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Please check our full version paper: &lt;a href="https://arxiv.org/pdf/2502.04428"&gt;https://arxiv.org/pdf/2502.04428&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please check our source code in our Github repo: &lt;a href="https://github.com/ThunderbornSakana/quodlibeta"&gt;https://github.com/ThunderbornSakana/quodlibeta&lt;/a&gt;&lt;/p&gt;
'>
  <meta property="og:type" content="article">
  <meta property="og:updated_time" content="2025-03-16T23:48:55+00:00">
  <meta property="article:published_time" content="2025-02-23T00:00:00+00:00">
  <meta property="article:modified_time" content="2025-03-16T23:48:55+00:00">
  <meta name="revised" content="2025-03-16T23:48:55+00:00">


<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "BlogPosting",
      "author": { "@type": "Person", "name": "Exploring Uncertainty-Based On-device LLM Routing From Benchmarking to Generalization" },
      "datePublished": "2025-02-23T00:00:00+00:00",
      "dateModified": "2025-03-16T23:48:55+00:00",
    
    "name": "Exploring Uncertainty-Based On-device LLM Routing From Benchmarking to Generalization",
    "description": "An engaging 1-3 sentence description of your lab.",
    "headline": "Exploring Uncertainty-Based On-device LLM Routing From Benchmarking to Generalization",
    "publisher": {
      "@type": "Organization",
      "logo": { "@type": "ImageObject", "url": "/vova-lab.github.io/images/icon.png" }
    },
    "url": "https://guangyaoz.github.io/vova-lab.github.io"
  }
</script>

<link rel="alternate" type="application/rss+xml" href="https://guangyaoz.github.io/vova-lab.github.io/feed.xml">

  <!-- Google Fonts -->
<!-- automatically get url from fonts used in theme file -->

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?display=swap&&family=Barlow:ital,wght@0,200;0,400;0,500;0,600;1,200;1,400;1,500;1,600&amp;family=Roboto+Mono:ital,wght@0,200;0,400;0,500;0,600;1,200;1,400;1,500;1,600" rel="stylesheet">

<!-- Font Awesome icons (load asynchronously due to size) -->

<link href="https://use.fontawesome.com/releases/v6.5.0/css/all.css" rel="stylesheet" media="none" onload="this.removeAttribute('media'); this.onload = null;">
<noscript>
  <link href="https://use.fontawesome.com/releases/v6.5.0/css/all.css" rel="stylesheet">
</noscript>

  <!-- third party styles -->
<!-- https://stylishthemes.github.io/Syntax-Themes/pygments/ -->
<link href="https://cdn.jsdelivr.net/gh/StylishThemes/Syntax-Themes/pygments/css-github/pygments-tomorrow-night-eighties.css" rel="stylesheet">

<!-- include all sass in styles folder -->


  
    <link href="/vova-lab.github.io/_styles/-theme.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/alert.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/all.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/anchor.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/background.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/body.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/bold.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/button.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/card.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/checkbox.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/citation.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/code.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/cols.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/dark-toggle.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/details.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/feature.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/figure.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/float.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/font.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/footer.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/form.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/grid.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/header.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/heading.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/highlight.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/icon.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/image.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/link.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/list.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/main.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/paragraph.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/portrait.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/post-excerpt.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/post-info.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/post-nav.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/quote.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/rule.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/search-box.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/search-info.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/section.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/table.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/tags.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/textbox.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/tooltip.css" rel="stylesheet">
  

  
    <link href="/vova-lab.github.io/_styles/util.css" rel="stylesheet">
  


<!-- include all css in styles folder -->



  <!-- third party scripts -->
<script src="https://unpkg.com/@popperjs/core@2" defer></script>
<script src="https://unpkg.com/tippy.js@6" defer></script>
<script src="https://unpkg.com/mark.js@8" defer></script>

<!-- include all js in scripts folder -->


  <script src="/vova-lab.github.io/_scripts/anchors.js"></script>

  <script src="/vova-lab.github.io/_scripts/dark-mode.js"></script>

  <script src="/vova-lab.github.io/_scripts/fetch-tags.js"></script>

  <script src="/vova-lab.github.io/_scripts/search.js"></script>

  <script src="/vova-lab.github.io/_scripts/site-search.js"></script>

  <script src="/vova-lab.github.io/_scripts/table-wrap.js"></script>

  <script src="/vova-lab.github.io/_scripts/tooltip.js"></script>


</head>

  <body>
    







<header class="background" style="--image: url('/vova-lab.github.io/vova-lab.github.io/images/background.jpg')" data-dark="true">
  <a href="/vova-lab.github.io/" class="home">
    
      <span class="logo">
        
          <svg xmlns="http://www.w3.org/2000/svg" viewbox="-40 -60 80 100">
  <style>
    .bubble {
      animation: float 2s ease-out both infinite var(--delay);
    }
    @keyframes float {
      0% {
        opacity: 0;
      }
      50% {
        transform: translateY(0);
        opacity: 0;
      }
      75% {
        opacity: 1;
      }
      100% {
        opacity: 0;
        transform: translateY(-40px);
      }
    }
  </style>
  <g fill="currentColor" opacity="0.5">
    <circle class="bubble" cx="0" cy="-10" r="3" style="--delay: 0.1s"></circle>
    <circle class="bubble" cx="0" cy="-10" r="3" style="--delay: 0.4s"></circle>
    <circle class="bubble" cx="0" cy="-10" r="3" style="--delay: 1.1s"></circle>
  </g>
  <path fill="#38bdf8" d="
      M 0 -22.5
      L -19.5 -11.25
      L -19.5 11.25
      L 0 22.5
      L 19.5 11.25
      L 19.5 -11.25
      z
    "></path>
  <path fill="#bae6fd" d="
      M 0 -22.5
      L -19.5 -11.25
      L 0 0
      L 19.5 -11.25
      z
    "></path>
  <path fill="none" stroke="currentColor" stroke-width="5" d="
      M -18 -53
      L -10 -53
      L -10 -29.2
      L -30.3 -17.5
      L -30.3 17.5
      L 0 35
      L 30.3 17.5
      L 30.3 -17.5
      L 10 -29.2
      L 10 -53
      L 18 -53
    "></path>
</svg>

        
      </span>
    
    
      <span class="title-text" data-tooltip="Home">
        
          <span class="title">random lab site</span>
        
        
      </span>
    
  </a>

  <input class="nav-toggle" type="checkbox" aria-label="show/hide nav">

  <nav>
    
    
      
        <a href="/vova-lab.github.io/research/" data-tooltip="Published works">
          Research
        </a>
      
    
      
        <a href="/vova-lab.github.io/team/" data-tooltip="About our team">
          Team
        </a>
      
    
      
        <a href="/vova-lab.github.io/blog/" data-tooltip="Musings and miscellany">
          Project
        </a>
      
    
      
        <a href="/vova-lab.github.io/contact/" data-tooltip="Email, address, and location">
          Contact
        </a>
      
    
  </nav>
</header>

    <main>
      <!--
  modify main content of page:
  - add section breaks
  - attach section properties
  - filter out blank sections
-->






  
  
  

  <section class="background" data-size="1">
    <!--
  background: ;
  dark: ;
  size: 1;
-->


<h1 class="center">Exploring Uncertainty-Based On-device LLM Routing From Benchmarking to Generalization</h1>

<div class="post-info">
  
    
    
      <span data-tooltip="Author">
        <i class="icon fa-solid fa-feather-pointed"></i>
        <span>Yu-Neng (Allen) Chuang</span>
      </span>
    
  

  
  

  
    <span data-tooltip="Originally published on">
      <i class="icon fa-regular fa-calendar"></i>
      <span>February 23, 2025</span>
    </span>
  

  
    <span data-tooltip="Last updated on">
      <i class="icon fa-solid fa-clock-rotate-left"></i>
      <span>March 16, 2025</span>
    </span>
  
</div>


  


  <div class="tags" data-link="/vova-lab.github.io/blog">
    
      <a href="blog?search=%22tag:%20on-device-llm-routing%22" class="tag" data-tooltip='Show items with the tag "on-device-llm-routing"'>
        on-device-llm-routing
      </a>
    
      <a href="blog?search=%22tag:%20uncertainty-quantification%22" class="tag" data-tooltip='Show items with the tag "uncertainty-quantification"'>
        uncertainty-quantification
      </a>
    
      <a href="blog?search=%22tag:%20efficient-llm-inference%22" class="tag" data-tooltip='Show items with the tag "efficient-llm-inference"'>
        efficient-llm-inference
      </a>
    
      <a href="blog?search=%22tag:%20wearable-device%22" class="tag" data-tooltip='Show items with the tag "wearable-device"'>
        wearable-device
      </a>
    
  </div>
  </section>

  
  
  

  <section class="background" data-size="page">
    <!--
  background: ;
  dark: ;
  size: ;
-->


<p>This work offers an accessible and reproducible pipeline for uncertainty-based routing from benchmarking to generalization.</p>

<p>Large language models (LLMs) are increasingly deployed and democratized on edge devices. To improve the efficiency of on-device deployment, small language models (SLMs) are often adopted due to their efficient decoding latency and reduced energy consumption. However, these SLMs often generate inaccurate responses when handling complex queries. One promising solution is uncertainty-based SLM routing, offloading high-stakes queries to stronger LLMs when resulting in low-confidence responses on SLM. This follows the principle of “If you lack confidence, seek stronger support” to enhance reliability. Relying on more powerful LLMs is yet effective but increases invocation costs. Therefore, striking a routing balance between efficiency and efficacy remains a critical challenge. Additionally, efficiently generalizing the routing strategy to new datasets remains under-explored. In this paper, we conduct a comprehensive investigation into benchmarking and generalization of uncertainty-driven routing strategies from SLMs to LLMs over 1500+ settings.</p>

<p>This work offers an accessible and reproducible pipeline for uncertainty-based routing from benchmarking to generalization. Our main contributions are summarized as follows:</p>
<ul>
  <li>
<strong>Comprehensive benchmarking and detailed analysis:</strong> This benchmark evaluates $8$ UQ methods across $14$ datasets to examine the alignment between uncertainty and correctness in routing tasks. We incorporate $8$ SLMs and $2$ LLMs to emulate real-world deployment scenarios. We then delve into key observations from the extensive results and conclude the insights for developing uncertainty-based SLM routing.</li>
  <li>
<strong>Calibration data for generalization to new data:</strong> Building on our benchmarking pipeline, we introduce a calibration data construction pipeline designed to improve routing generalization in new downstream scenarios. Empirical results show that this calibration data generalizes effectively to new datasets \textit{without relying on any new downstream data}.</li>
</ul>

<p>Please check our full version paper: <a href="https://arxiv.org/pdf/2502.04428">https://arxiv.org/pdf/2502.04428</a></p>

<p>Please check our source code in our Github repo: <a href="https://github.com/ThunderbornSakana/quodlibeta">https://github.com/ThunderbornSakana/quodlibeta</a></p>
  </section>

  
  
  

  <section class="background" data-size="page">
    <!--
  background: ;
  dark: ;
  size: ;
-->


<div class="post-nav">
  <span>
    
      <i class="icon fa-solid fa-angle-left"></i> Previous post<br>
      <a href="/vova-lab.github.io/2024/12/30/arrhythmia.html">
        Arrhythmia Detection and ECG Explainability
      </a>
    
  </span>
  <span>
    
  </span>
</div>
  </section>


    </main>
    


<footer class="background" style="--image: url('/vova-lab.github.io/vova-lab.github.io/images/background.jpg')" data-dark="true" data-size="wide">
  <!--
    <div>
      Extra details like contact info or address
    </div>
  -->

  <div>
    
      
      
      



  <div class="button-wrapper">
    <a class="button" href="mailto:contact@guangyaoz.com" data-tooltip="Email" data-style="bare" aria-label="Email">
      <i class="icon fa-solid fa-envelope"></i>
      
    </a>
  </div>


    
      
      
      



  <div class="button-wrapper">
    <a class="button" href="https://orcid.org/0000-0001-8713-9213" data-tooltip="ORCID" data-style="bare" aria-label="ORCID">
      <i class="icon fa-brands fa-orcid"></i>
      
    </a>
  </div>


    
      
      
      



  <div class="button-wrapper">
    <a class="button" href="https://scholar.google.com/citations?user=ETJoidYAAAAJ" data-tooltip="Google Scholar" data-style="bare" aria-label="Google Scholar">
      <i class="icon fa-brands fa-google"></i>
      
    </a>
  </div>


    
      
      
      



  <div class="button-wrapper">
    <a class="button" href="https://github.com/guangyaoz" data-tooltip="GitHub" data-style="bare" aria-label="GitHub">
      <i class="icon fa-brands fa-github"></i>
      
    </a>
  </div>


    
      
      
      



  <div class="button-wrapper">
    <a class="button" href="https://twitter.com/guangyaoz" data-tooltip="Twitter" data-style="bare" aria-label="Twitter">
      <i class="icon fa-brands fa-twitter"></i>
      
    </a>
  </div>


    
      
      
      



  <div class="button-wrapper">
    <a class="button" href="https://youtube.com/guangyaoz" data-tooltip="YouTube" data-style="bare" aria-label="YouTube">
      <i class="icon fa-brands fa-youtube"></i>
      
    </a>
  </div>


    
  </div>

  <div>
    © 2025
    random lab site
      |   Built with
    <a href="https://github.com/greenelab/lab-website-template">
      Lab Website Template
    </a>
  </div>

  <input type="checkbox" class="dark-toggle" data-tooltip="Dark mode" aria-label="toggle dark mode" oninput="onDarkToggleChange(event)">
</footer>

  </body>
</html>
